{"version":3,"file":"static/js/744.6221348a.chunk.js","mappings":"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","sources":["service/api-fetch.js","webpack://react-homework-template/./src/components/MovieDetailes/MovieDetailes.module.css?d386","components/MovieDetailes/MovieDetailes.jsx","webpack://react-homework-template/./src/views/MovieDetailsPage/MovieDetailsPage.module.css?8c08","views/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["//   const [filmes, setFilmes] = useState([]);\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"e32d0a5f8ee39ad2c612579abb31460d\"\n\nexport function fetchGetFilms(page) {\n    return fetch(\n        `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`)\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return Promise.rejected(\n                new Error(\"Please, try again\")\n            );\n        })\n     .then(response => response.results)\n        // .then(filmes => setFilmes([...filmes]));\n}\n \nexport function fetchGetMovie(query,page) {\n    return fetch(\n        ` ${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=${page}&include_adult=false `)\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                }\n                return Promise.rejected(\n                    new Error(\"Please, try again\")\n                );\n            })\n        .then(response =>response.results)\n    \n }\n\nexport function getMovieById(movieId) {\n    return fetch(\n       ` ${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return Promise.rejected(\n                    new Error(\"Please, try again\")\n                );\n        })\n    }\n export function getMovieCast(movieId) {\n        return fetch(\n            `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`)\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                }\n                return Promise.rejected(\n                    new Error(\"Please, try again\")\n                );\n            })\n     .then(response => response.cast)\n }\n    \nexport function getMoviesReviews(movieId) {\n    return fetch(\n        `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`)\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return Promise.rejected(\n                new Error(\"Please, try again\")\n            );\n        })\n    .then(response => response.results)\n }\n    // .then(response =>response.results)\n \n\n// const api = {\n//   fetchSearchName,\n// };\n// export default api;\n\n// const BASE_URL = \"https://api.themoviedb.org/3\";\n// const MY_KEY = \"e32d0a5f8ee39ad2c612579abb31460d\";\n\n// async function fetchErrorHandling(url = \"\", config = {}) {\n//   const response = await fetch(url, config);\n//   return response.ok\n//     ? await response.json()\n//     : Promise.reject(new Error(\"Something went wrong\"));\n// }\n// export async function fetchTrending() {\n//   return fetchErrorHandling(`${BASE_URL}/trending/movie/day?api_key=${MY_KEY}`);\n// }","// extracted by mini-css-extract-plugin\nexport default {\"article\":\"MovieDetailes_article__gVSp5\",\"image\":\"MovieDetailes_image__mswBM\",\"description\":\"MovieDetailes_description__wj57F\",\"description__text\":\"MovieDetailes_description__text__xWCuD\"};","// import { useLocation, useNavigate } from \"react-router-dom\";\nimport style from './MovieDetailes.module.css';\n\n\n\nexport default function MovieDetails({ movie }) {\n   \n\n \n    return (\n         <>\n         \n            <article key={movie.id} className={style.article}>\n            <img src={movie.poster_path?`https://image.tmdb.org/t/p/original${movie.poster_path}`:\"https://cdn.pixabay.com/photo/2021/11/27/18/14/charlie-chaplin-6828680_960_720.jpg\"} alt={movie.title} className={style.image }></img>\n                <div className={style.description }>\n                    <h2>{movie.title}</h2>\n                    <p>Vote average:{ movie.vote_average}</p>\n            <h3>Overview</h3>\n            <p className={style.description__text }>{ movie.overview}</p>\n            <h3>Genres</h3>\n            <p>{movie.genres && movie.genres.map(({ id, name }) => (\n                <li id={id}>{name}</li>\n            ))}\n                </p>\n            </div>\n               \n\n\n\n</article> </>\n    )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetailsPage_button__zHx70\",\"link\":\"MovieDetailsPage_link__GbpAo\",\"linkActive\":\"MovieDetailsPage_linkActive__n7809\"};","import {useState, useEffect } from 'react';\nimport * as Api from '../../service/api-fetch';\nimport MovieDetails from '../../components/MovieDetailes/MovieDetailes';\nimport { NavLink, useParams, Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport style from '../MovieDetailsPage/MovieDetailsPage.module.css'\n\n\n// import Cast from '../Cast/Cast';\n// import Reviews from '../Reviews/Reviews';\n\n\nexport default function MovieDetailsPage() {\n    const { movieId } = useParams();\n    const [movie, setMovie] = useState(null);\n      let navigate = useNavigate();\n    const location = useLocation();\n    // const history = useHistory();\n    // console.log(history);\n\n    console.log(location.state);\n   \n    \n\n    useEffect(() => {\n        \n        Api.getMovieById(movieId)\n            .then(setMovie)\n            \n    }, [movieId])\n\n       const onBackPreviousPage = () => {\n        // navigate(\"/\", { replace: true });\n           if (window.history.state && window.history.state.idx > 0) {\n    navigate(-1);\n} else {\n    navigate('/', { replace: true }); // the current entry in the history stack will be replaced with the new one with { replace: true }\n}\n       }\n    \n    return (\n        <>\n           \n            <button type=\"button\" onClick={onBackPreviousPage} className={ style.button}>Back</button>\n            {movie && <MovieDetails movie={movie}>\n\n\n            </MovieDetails>}\n            <NavLink to={`/movies/${movieId}/cast`} className={({isActive})=>isActive?style.linkActive:style.link }>Cast </NavLink>\n            <NavLink to={`reviews`} className={({isActive})=>isActive?style.linkActive:style.link }>Reviews</NavLink>\n        <Outlet />\n        </>\n       \n    )\n}\n// /movies/${ movieId } /\n\n// import { useNavigate } from \"react-router-dom\";\n\n// function SignupForm() {\n//   let navigate = useNavigate();\n\n//   async function handleSubmit(event) {\n//     event.preventDefault();\n//     await submitForm(event.target);\n//     navigate(\"../success\", { replace: true });\n//   }\n\n//   return <form onSubmit={handleSubmit}>{/* ... */}</form>;"],"names":["BASE_URL","API_KEY","fetchGetFilms","page","fetch","then","response","ok","json","Promise","rejected","Error","results","fetchGetMovie","query","getMovieById","movieId","getMovieCast","cast","getMoviesReviews","MovieDetails","movie","className","style","src","poster_path","alt","title","vote_average","overview","genres","map","id","name","MovieDetailsPage","useParams","useState","setMovie","navigate","useNavigate","location","useLocation","console","log","state","useEffect","Api","type","onClick","window","history","idx","replace","to","isActive"],"sourceRoot":""}